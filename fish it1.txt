-- Hapus GUI lama jika ada
local existingGui = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("JoeyHubDelta")
if existingGui then existingGui:Destroy() end

local TweenService = game:GetService("TweenService")
local Player = game:GetService("Players").LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- Container Utama
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "JoeyHubDelta"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 300, 0, 180)
MainFrame.Position = UDim2.new(0.5, -150, 0.4, -90)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true -- Delta sangat stabil dengan fungsi bawaan ini
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

-- Shadow / Glow efek sederhana
local Stroke = Instance.new("UIStroke")
Stroke.Thickness = 2
Stroke.Color = Color3.fromRGB(50, 50, 50)
Stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
Stroke.Parent = MainFrame

-- Header
local TopBar = Instance.new("Frame")
TopBar.Name = "TopBar"
TopBar.Size = UDim2.new(1, 0, 0, 40)
TopBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
TopBar.BorderSizePixel = 0
TopBar.Parent = MainFrame

local TopCorner = Instance.new("UICorner")
TopCorner.CornerRadius = UDim.new(0, 10)
TopCorner.Parent = TopBar

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.Text = "Joey Hub"
Title.TextColor3 = Color3.white
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold
Title.BackgroundTransparency = 1
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TopBar

-- Button Container (X dan -)
local BtnContainer = Instance.new("Frame")
BtnContainer.Size = UDim2.new(0, 80, 1, 0)
BtnContainer.Position = UDim2.new(1, -85, 0, 0)
BtnContainer.BackgroundTransparency = 1
BtnContainer.Parent = TopBar

-- Close Button
local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, 25, 0, 25)
CloseBtn.Position = UDim2.new(0.6, 0, 0.2, 0)
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
CloseBtn.Text = ""
CloseBtn.Parent = BtnContainer
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(1, 0)

-- Minimize Button
local MinBtn = Instance.new("TextButton")
MinBtn.Size = UDim2.new(0, 25, 0, 25)
MinBtn.Position = UDim2.new(0.1, 0, 0.2, 0)
MinBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
MinBtn.Text = ""
MinBtn.Parent = BtnContainer
Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(1, 0)

-- Info Text
local InfoText = Instance.new("TextLabel")
InfoText.Size = UDim2.new(1, 0, 1, -40)
InfoText.Position = UDim2.new(0, 0, 0, 40)
InfoText.BackgroundTransparency = 1
InfoText.Text = "Joey Hub Loaded\nStatus: Active\nGame: Fish It"
InfoText.TextColor3 = Color3.fromRGB(180, 180, 180)
InfoText.Font = Enum.Font.Gotham
InfoText.TextSize = 14
InfoText.Parent = MainFrame

-- TWEEN LOGIC
local function toggleGui(minimize)
    local targetSize = minimize and UDim2.new(0, 300, 0, 40) or UDim2.new(0, 300, 0, 180)
    local tweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
    
    TweenService:Create(MainFrame, tweenInfo, {Size = targetSize}):Play()
    InfoText.Visible = not minimize
end

local isMinimized = false
MinBtn.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    toggleGui(isMinimized)
end)

CloseBtn.MouseButton1Click:Connect(function()
    local tween = TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Size = UDim2.new(0,0,0,0)})
    tween:Play()
    tween.Completed:Connect(function() ScreenGui:Destroy() end)
end)

print("Joey Hub successfully executed!")
