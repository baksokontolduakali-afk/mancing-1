local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleBar = Instance.new("Frame")
local TitleText = Instance.new("TextLabel")
local CloseButton = Instance.new("TextButton")
local SideBar = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")

-- 1. Wadah Utama
ScreenGui.Name = "JoeyTesting_Final"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- 2. Main Frame (Background Hitam)
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -135)
MainFrame.Size = UDim2.new(0, 400, 0, 270)
MainFrame.Active = true
MainFrame.Draggable = true -- Memungkinkan geser frame

-- 3. Title Bar (Bagian Atas - Di dalam MainFrame)
TitleBar.Name = "TitleBar"
TitleBar.Parent = MainFrame
TitleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35) -- Warna lebih terang dari body
TitleBar.BorderSizePixel = 0
TitleBar.Size = UDim2.new(1, 0, 0, 35)

-- Judul "JoeyTesting"
TitleText.Parent = TitleBar
TitleText.BackgroundTransparency = 1
TitleText.Position = UDim2.new(0, 10, 0, 0)
TitleText.Size = UDim2.new(0, 200, 1, 0)
TitleText.Font = Enum.Font.SourceSansBold
TitleText.Text = "JoeyTesting"
TitleText.TextColor3 = Color3.fromRGB(0, 255, 150)
TitleText.TextSize = 18
TitleText.TextXAlignment = Enum.TextXAlignment.Left

-- Tombol Close (X) - Menempel di TitleBar
CloseButton.Name = "CloseButton"
CloseButton.Parent = TitleBar
CloseButton.BackgroundColor3 = Color3.fromRGB(180, 40, 40)
CloseButton.BorderSizePixel = 0
CloseButton.Position = UDim2.new(1, -35, 0, 0)
CloseButton.Size = UDim2.new(0, 35, 1, 0)
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 18

-- 4. Sidebar (Menu Samping - Di bawah TitleBar)
SideBar.Name = "SideBar"
SideBar.Parent = MainFrame
SideBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
SideBar.BorderSizePixel = 0
SideBar.Position = UDim2.new(0, 0, 0, 35)
SideBar.Size = UDim2.new(0, 100, 1, -35)

UIListLayout.Parent = SideBar
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

-- Fungsi Tombol Samping
local function AddTab(name)
    local btn = Instance.new("TextButton")
    btn.Parent = SideBar
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    btn.BackgroundTransparency = 1 -- Transparan agar bersih
    btn.BorderSizePixel = 0
    btn.Size = UDim2.new(1, 0, 0, 35)
    btn.Font = Enum.Font.SourceSans
    btn.Text = name
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 15
    
    -- Efek Hover (Opsional)
    btn.MouseEnter:Connect(function() btn.BackgroundTransparency = 0.8 end)
    btn.MouseLeave:Connect(function() btn.BackgroundTransparency = 1 end)
    
    return btn
end

-- Tambah Menu (Persis Gambar)
AddTab("Fishing")
AddTab("Automatically")
AddTab("Teleport")
AddTab("Quest")
AddTab("Trading")
AddTab("Menu")

--- FUNGSIONALITAS ---

-- Tutup Menu
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)
